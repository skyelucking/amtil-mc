{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lucki\\\\Desktop\\\\ClassCodeProjects\\\\amtil-mc\\\\client\\\\src\\\\pages\\\\Team\\\\MissionTeam.js\";\nimport React, { useState, useEffect, View } from \"react\";\nimport Axios from \"axios\";\nimport { Container, Table } from \"react-bootstrap\";\nimport ShowSelectedTeam from \"../Team/ShowSelectedTeam\";\n\nconst MissionTeam = () => {\n  const [mission_id, setMissionID] = useState(JSON.parse(window.sessionStorage.getItem(\"mission\")).mission_id);\n  const [teamRoster, setTeamRoster] = useState([]);\n  const [team_list, setTeamList] = useState([]);\n  const [basicsList, setBasicsList] = useState([]); //GETS MISSION ID FROM SESSION VARIABLE\n\n  useEffect(() => {\n    const mission_id = JSON.parse(window.sessionStorage.getItem(\"mission\")).mission_id;\n    Axios.get(\"/teamdetails\").then(response => {\n      Axios.get(\"/getteam/\" + mission_id).then(response => {\n        console.log(response.data);\n        let tempArray = [];\n        const teamRoster = [];\n        tempArray = [...response.data.team_details];\n        setBasicsList(tempArray);\n        console.log(\"basicsList\", basicsList);\n        console.log(\"tempArray\", tempArray);\n        console.log(\"teamRoster\", teamRoster);\n      });\n    }, []);\n\n    const mission_teamroster = memberID => {\n      console.log(\"member_id\", memberID);\n      Axios.post(\"/addteam\", {\n        member_id: memberID,\n        mission_id: mission_id\n      }).then(response => {\n        const currentTeam = teamRoster.find(t => t.member_id === memberID);\n        setBasicsList([...basicsList, currentTeam]);\n        setTeamRoster(prevState => prevState.filter(eq => eq.member_id !== memberID));\n        console.log(response);\n      }).catch(err => {\n        alert(\"Team Member already added. You must really like them!\");\n      });\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ShowSelectedTeam, {\n      basicsList: basicsList,\n      setBasicsList: setBasicsList,\n      setTeamRoster: setTeamRoster,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"PageHead\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, \"Team Roster\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Table, {\n      bordered: true,\n      size: \"sm\",\n      style: {\n        marginBottom: \"15px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, \"Add to Team\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }\n    }, \"Avatar\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, \"Department\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }\n    }, \"Title\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, teamRoster.filter(team => !basicsList.find(b => b.member_id === team.member_id)).map((data, index) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: data.member_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button\",\n      style: {\n        fontSize: \".75rem\",\n        fontWeight: \"bolder\",\n        backgroundColor: \"#4AB8DF\",\n        color: \"black\",\n        marginTop: \"2px\",\n        marginBottom: \"2px\",\n        display: \"flex\",\n        width: \"90%\"\n      },\n      onClick: e => {\n        mission_teamroster(data.member_id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }\n    }, \"Add\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: data.avatar,\n      style: {\n        maxWidth: \"100px\"\n      },\n      alt: data.first_name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, data.first_name, \" \", data.last_name, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, data.title), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: \".75em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, data.department)))))));\n  });\n};\n\nexport default MissionTeam;","map":{"version":3,"sources":["C:/Users/lucki/Desktop/ClassCodeProjects/amtil-mc/client/src/pages/Team/MissionTeam.js"],"names":["React","useState","useEffect","View","Axios","Container","Table","ShowSelectedTeam","MissionTeam","mission_id","setMissionID","JSON","parse","window","sessionStorage","getItem","teamRoster","setTeamRoster","team_list","setTeamList","basicsList","setBasicsList","get","then","response","console","log","data","tempArray","team_details","mission_teamroster","memberID","post","member_id","currentTeam","find","t","prevState","filter","eq","catch","err","alert","textAlign","marginBottom","team","b","map","index","fontSize","fontWeight","backgroundColor","color","marginTop","display","width","e","avatar","maxWidth","first_name","last_name","title","department"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, View } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { Container, Table } from \"react-bootstrap\";\r\n\r\nimport ShowSelectedTeam from \"../Team/ShowSelectedTeam\";\r\n\r\nconst MissionTeam = () => {\r\n  const [mission_id, setMissionID] = useState(\r\n    JSON.parse(window.sessionStorage.getItem(\"mission\")).mission_id\r\n  );\r\n  const [teamRoster, setTeamRoster] = useState([]);\r\n  const [team_list, setTeamList] = useState([]);\r\n  const [basicsList, setBasicsList] = useState([]);\r\n\r\n  //GETS MISSION ID FROM SESSION VARIABLE\r\n  useEffect(() => {\r\n    const mission_id = JSON.parse(window.sessionStorage.getItem(\"mission\"))\r\n      .mission_id;\r\n\r\n    Axios.get(\"/teamdetails\").then((response) => {\r\n      Axios.get(\"/getteam/\" + mission_id).then((response) => {\r\n        console.log(response.data);\r\n        let tempArray = [];\r\n        const teamRoster = [];\r\n        tempArray = [...response.data.team_details];\r\n        setBasicsList(tempArray);\r\n        console.log(\"basicsList\", basicsList);\r\n        console.log(\"tempArray\", tempArray);\r\n        console.log(\"teamRoster\", teamRoster);\r\n    });\r\n  }, []);\r\n\r\n  const mission_teamroster = (memberID) => {\r\n    console.log(\"member_id\", memberID);\r\n    Axios.post(\"/addteam\", {\r\n      member_id: memberID,\r\n      mission_id: mission_id,\r\n    })\r\n      .then((response) => {\r\n       const currentTeam = teamRoster.find((t) => t.member_id === memberID);\r\n        setBasicsList([...basicsList, currentTeam]);\r\n        setTeamRoster((prevState) =>\r\n          prevState.filter((eq) => eq.member_id !== memberID)\r\n        );\r\n        console.log(response);\r\n      })\r\n      .catch((err) => {\r\n        alert(\"Team Member already added. You must really like them!\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Container>\r\n        <ShowSelectedTeam  \r\n        basicsList={basicsList}\r\n          setBasicsList={setBasicsList}\r\n          setTeamRoster={setTeamRoster} />\r\n        <h1 className=\"PageHead\">Team Roster</h1>\r\n        <div style={{ textAlign: \"center\" }}></div>\r\n        <Table bordered size=\"sm\" style={{ marginBottom: \"15px\" }}>\r\n          <thead>\r\n            <tr>\r\n              {/* <th>Tool Id</th> */}\r\n              <th>Add to Team</th>\r\n              <th>Avatar</th>\r\n              <th>Name</th>\r\n              <th>Department</th>\r\n              <th>Title</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {teamRoster\r\n            .filter(\r\n                (team) =>\r\n                  !basicsList.find((b) => b.member_id === team.member_id)\r\n              ).map((data, index) => (\r\n              <tr key={data.member_id}>\r\n                <td>\r\n                  <button\r\n                    className=\"button\"\r\n                    style={{\r\n                      fontSize: \".75rem\",\r\n                      fontWeight: \"bolder\",\r\n                      backgroundColor: \"#4AB8DF\",\r\n                      color: \"black\",\r\n                      marginTop: \"2px\",\r\n                      marginBottom: \"2px\",\r\n                      display: \"flex\",\r\n                      width: \"90%\",\r\n                    }}\r\n                    onClick={(e) => {\r\n                      mission_teamroster(data.member_id);\r\n                    }}\r\n                  >\r\n                    Add\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  <img\r\n                    src={data.avatar}\r\n                    style={{ maxWidth: \"100px\" }}\r\n                    alt={data.first_name}\r\n                  ></img>\r\n                </td>\r\n                <td>\r\n                  {data.first_name} {data.last_name}{\" \"}\r\n                </td>\r\n                <td>{data.title}</td>\r\n                <td style={{ fontSize: \".75em\" }}>{data.department}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      </Container>\r\n    </div>\r\n  );\r\n});\r\n}\r\nexport default MissionTeam;\r\n"]},"metadata":{},"sourceType":"module"}