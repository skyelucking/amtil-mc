{"ast":null,"code":"var isEmpty = function (val) {\n  return val === null || val === undefined;\n};\n\nexport default (function (trigger, event) {\n  var doTrigger = function (event) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return new Promise(function (resolve, reject) {\n      var results = trigger.apply(void 0, [event].concat(args));\n\n      if (results && results.length) {\n        Promise.all(results)[\"catch\"](reject).then(function (resolvedResults) {\n          var result;\n\n          if (resolvedResults) {\n            while (isEmpty(result) && resolvedResults.length) {\n              result = resolvedResults.pop();\n            }\n          }\n\n          resolve(isEmpty(result) ? undefined : result);\n        });\n      } else {\n        resolve();\n      }\n    });\n  };\n\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  return event ? doTrigger.apply(void 0, [event].concat(args)) : doTrigger;\n});","map":{"version":3,"sources":["C:/Users/lucki/Desktop/ClassCodeProjects/amtil-mc/node_modules/@rpldy/shared/lib/esm/triggerUpdater.js"],"names":["isEmpty","val","undefined","trigger","event","doTrigger","_len2","arguments","length","args","Array","_key2","Promise","resolve","reject","results","apply","concat","all","then","resolvedResults","result","pop","_len","_key"],"mappings":"AAAA,IAAIA,OAAO,GAAG,UAAUC,GAAV,EAAe;AAC3B,SAAOA,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAKC,SAA/B;AACD,CAFD;;AAIA,gBAAgB,UAAUC,OAAV,EAAmBC,KAAnB,EAA0B;AACxC,MAAIC,SAAS,GAAG,UAAUD,KAAV,EAAiB;AAC/B,SAAK,IAAIE,KAAK,GAAGC,SAAS,CAACC,MAAtB,EAA8BC,IAAI,GAAG,IAAIC,KAAJ,CAAUJ,KAAK,GAAG,CAAR,GAAYA,KAAK,GAAG,CAApB,GAAwB,CAAlC,CAArC,EAA2EK,KAAK,GAAG,CAAxF,EAA2FA,KAAK,GAAGL,KAAnG,EAA0GK,KAAK,EAA/G,EAAmH;AACjHF,MAAAA,IAAI,CAACE,KAAK,GAAG,CAAT,CAAJ,GAAkBJ,SAAS,CAACI,KAAD,CAA3B;AACD;;AAED,WAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C,UAAIC,OAAO,GAAGZ,OAAO,CAACa,KAAR,CAAc,KAAK,CAAnB,EAAsB,CAACZ,KAAD,EAAQa,MAAR,CAAeR,IAAf,CAAtB,CAAd;;AAEA,UAAIM,OAAO,IAAIA,OAAO,CAACP,MAAvB,EAA+B;AAC7BI,QAAAA,OAAO,CAACM,GAAR,CAAYH,OAAZ,EAAqB,OAArB,EAA8BD,MAA9B,EAAsCK,IAAtC,CAA2C,UAAUC,eAAV,EAA2B;AACpE,cAAIC,MAAJ;;AAEA,cAAID,eAAJ,EAAqB;AACnB,mBAAOpB,OAAO,CAACqB,MAAD,CAAP,IAAmBD,eAAe,CAACZ,MAA1C,EAAkD;AAChDa,cAAAA,MAAM,GAAGD,eAAe,CAACE,GAAhB,EAAT;AACD;AACF;;AAEDT,UAAAA,OAAO,CAACb,OAAO,CAACqB,MAAD,CAAP,GAAkBnB,SAAlB,GAA8BmB,MAA/B,CAAP;AACD,SAVD;AAWD,OAZD,MAYO;AACLR,QAAAA,OAAO;AACR;AACF,KAlBM,CAAP;AAmBD,GAxBD;;AA0BA,OAAK,IAAIU,IAAI,GAAGhB,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAG,IAAIC,KAAJ,CAAUa,IAAI,GAAG,CAAP,GAAWA,IAAI,GAAG,CAAlB,GAAsB,CAAhC,CAApC,EAAwEC,IAAI,GAAG,CAApF,EAAuFA,IAAI,GAAGD,IAA9F,EAAoGC,IAAI,EAAxG,EAA4G;AAC1Gf,IAAAA,IAAI,CAACe,IAAI,GAAG,CAAR,CAAJ,GAAiBjB,SAAS,CAACiB,IAAD,CAA1B;AACD;;AAED,SAAOpB,KAAK,GAAGC,SAAS,CAACW,KAAV,CAAgB,KAAK,CAArB,EAAwB,CAACZ,KAAD,EAAQa,MAAR,CAAeR,IAAf,CAAxB,CAAH,GAAmDJ,SAA/D;AACD,CAhCD","sourcesContent":["var isEmpty = function (val) {\n  return val === null || val === undefined;\n};\n\nexport default (function (trigger, event) {\n  var doTrigger = function (event) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return new Promise(function (resolve, reject) {\n      var results = trigger.apply(void 0, [event].concat(args));\n\n      if (results && results.length) {\n        Promise.all(results)[\"catch\"](reject).then(function (resolvedResults) {\n          var result;\n\n          if (resolvedResults) {\n            while (isEmpty(result) && resolvedResults.length) {\n              result = resolvedResults.pop();\n            }\n          }\n\n          resolve(isEmpty(result) ? undefined : result);\n        });\n      } else {\n        resolve();\n      }\n    });\n  };\n\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  return event ? doTrigger.apply(void 0, [event].concat(args)) : doTrigger;\n});"]},"metadata":{},"sourceType":"module"}